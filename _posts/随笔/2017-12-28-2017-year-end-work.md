---
layout: post  
title: 2017 年终工作总结
category: 随笔  
tags: 随笔 年终总结 	
keywords: 年终总结
description: 年终总结 
---

今年主要的工作是围绕公司的手游棋牌项目《小财神》这块展开的。

#### 技术选型

* 前端采用的是社区版本的`Quick-Cocos2dx-Community`3.6.5版本(有部分我们的修改，例如加入了skynet的加密解密库 luasocket bugfix 等)
* 热更新采用的 nginx 配合CDN +资源清单的对比更新方式
* 后端采用的是`skynet` 1.0版本 `mysql`数据库 `mongodb`做配置和客户端lua层的错误上报（临时方案）
* 后台系统采用的PHP（我没有参与这块不太熟悉，只能带过）

至于技术选型的原因则比较简单，
* 现有旧方案瓶颈严重。

公司去年一直采用的是网狐的方案（从网络中淘来的针对手游的粗略修改版）虽然双端都是C++ 也有通用代码的游戏 但是：
 1. 维护难度比较大 
 2. 客户端无法热更新
 3. 人手比较难找
 4. 代码质量很难控制
* 双端lua的新方案探索基本完成 从去年底到今年初一直在研究skynet 和 Quick-Cocos2dx 技术上的难点去年基本上走通了
* 有现成技术积累 公司客户端 有不少人员有队lua这块的工作经验 有积累

#### 工作记录

* 1月-3月

  初步完成前后端架构的搭建

  ##### 技术方案：

  * 后端采用 `skynet+mysql+mongodb`
  * 协议采用 `sproto rpc`
  * 客户端采用 `Quick-Cocos2dx-Community`

  预构想: 前后端通用协议文件 与游戏逻辑 以便于加快开发速度

  ##### 工作
  * 服务端
    1. 服务器http登录鉴权(loginweb)模块 
    2. 服务器logind模块
    3. 服务器gate网关消息模块
    4. 用户agent服务模块
    5. 充值模块 （paycenter db channel callback）（初版）
    6. 数据库模块（dbserver + handler）
    7. 房卡模式游戏模块（roommgr +roomagentserver ）
    8. 旧服务器的维护
  * 客户端
    1. 网络模块（联通skynet server 鉴权登录 消息发送 ）
    2. 热更新模块（初版）
    3. 热更新资源生成脚本（python）
  * 其他
    1. 热更新方案 nginx+cdn +资源清单对比更新

      1-3月这段时间主要工作就是搭建新框架 从0到1的东西基本完成了 剩下的大部分是工作量的问题

* 4月

  完成第一个游戏，和完善框架


  ##### 工作
  * 服务端
    1. 第一个游戏抢庄牛牛
    2. 晚上充值模块 添加微信支付 苹果内购 
    3. 与客户端联调
    4. 工具类完善 xml json https
* 5-6月

  完善游戏


  ##### 工作
  * 服务端
    1. 道具中心模块
    2. 配置中心模块
    3. 提供http接口刷新配置
    4. 通知中心模块 
    5. 代理模块 

  * 客户端
    1. 客户端打包脚本
    2. 客户端SDK接入流程整理  

* 7-8月

  上线 


  ##### 工作
  * 服务端
    1. 游戏模式修改为房主建房模式
    2. 维护
  

  * 客户端
    1. 热更新模式重整（第二版）
* 9-12月

  修改为线上俱乐部模式


  ##### 工作
  * 服务端
    1. 俱乐部模式
    2. 私人房
    3. 公开房（百人场）
    4. 充值模块重构
    5. 道具模块重构
    6. 短信模块
    7. 赠送模块
    8. 数据库模块重构
    9. 服务器编译依赖相关脚本
  

  * 客户端
    1. 热更新模式重构（第二版）


#### 总结

作为第一次全局掌控项目，就目前来看，虽然小问题不断，但是基本上都解决的还算不错。
* 就技术上来说，无论是对公司还是对我个人都是一次大胆的尝试 ，就结果来说 都还不错
* 就业绩来说，第四季度，最起码让我看到了希望和前（钱）景
* 就人员来说，公司人员数量也从十几人到了目前三十人左右


内心来说还是有有点小成就感的

#### 展望
希望明年一切都好吧













---
